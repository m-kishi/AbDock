<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>アップロードサブフォーム</title>
    <link href="/AbDock/images/abdock.ico" rel="icon" type="image/ico" />
    <link href="/AbDock/stylesheets/normalize.css" rel="stylesheet" /><link href="/AbDock/stylesheets/all.css" rel="stylesheet" />
    <link href="/AbDock/stylesheets/mermaid.forest.min.css" rel="stylesheet" />
    <script src="/AbDock/javascripts/jquery-3.4.1.min.js"></script>
    <script src="/AbDock/javascripts/all.js"></script>
    <script src="/AbDock/javascripts/mermaid.min.js"></script>
  </head>
  <body class="f580_subform_upload">
    <header>
  <table class="header">
    <colgroup>
      <col class="title"   />
      <col class="project" />
      <col class="appname" />
      <col class="subname" />
      <col class="version" />
    </colgroup>
    <tbody>
      <tr>
        <td class="title"   rowspan="2">画面設計</td>
        <td class="project" rowspan="2">project.mk</td>
        <td class="appname" rowspan="2">Abook</td>
        <td class="subname" rowspan="2"></td>
        <td class="version">バージョン</td>
      </tr>
      <tr>
        <td class="version-number">5.8.1</td>
      </tr>
    </tbody>
  </table>
</header>

    <div class="content">
      <h1>【アップロードサブフォーム<span style="color:red;">(実験中)</span>】</h1>

<h2>レイアウト</h2>

<table class="layout">
    <tr>
      <td class="layout ">
        <figure>
            <img src="/AbDock/images/subform_uploads_001.png" class="" alt="Subform uploads 001" />
            <figcaption>
              1.アップロード画面
            </figcaption>
        </figure>
      </td>
        <td rowspan="2" class="overview">
          <figure>
            <figcaption>＜概要＞</figcaption>
              <ul class="overview">
                  <li>支出情報をAbShipへアップロードする</li>
                  <li>現在実験中の機能であり今後のバージョンアップでは削除される可能性がある</li>
              </ul>
              <figure>
                <figcaption>＜フォーム属性＞</figcaption>
                <table class="form-property">
                  <tr><th>タイトル          </th><td>アップロード</td></tr>
                    <tr><th>アイコン        </th><td>なし</td></tr>
                  <tr><th>画面サイズ        </th><td>(252, 96)</td></tr>
                  <tr><th>サイズ変更        </th><td>不可</td></tr>
                  <tr><th>初期表示位置      </th><td>呼び出し元画面中央</td></tr>
                  <tr><th>ウィンドウの最大化</th><td>不可</td></tr>
                  <tr><th>ウィンドウの最小化</th><td>不可</td></tr>
                  <tr><th>タスクバーへの表示</th><td>なし</td></tr>
                </table>
              </figure>
          </figure>
        </td>
    </tr>
    <tr>
      <td class="layout ">
        <figure>
            <img src="/AbDock/images/subform_uploads_002.png" class="" alt="Subform uploads 002" />
            <figcaption>
              2.アップロード中の表示
            </figcaption>
        </figure>
      </td>
    </tr>
</table>


<h2>画面項目</h2>

  <table class="controls">
    <tr>
      <th class="no-s">No.</th>
      <th>名称</th>
      <th>ＩＤ</th>
      <th>テキスト</th>
      <th>属性</th>
      <th>align</th>
      <th>種別</th>
      <th>備考</th>
    </tr>
      <tr>
  <td                >1</td>
  <td                >メールラベル</td>
  <td                >LblMail</td>
  <td                >Mail :</td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >Label</td>
  <td                ></td>
</tr>


      <tr>
  <td                >2</td>
  <td                >メール入力欄</td>
  <td                >TxtMail</td>
  <td                ></td>
  <td                >文字列</td>
  <td class="align-c"></td>
  <td                >TextBox</td>
  <td                ></td>
</tr>


      <tr>
  <td                >3</td>
  <td                >パスワードラベル</td>
  <td                >LblPass</td>
  <td                >Pass :</td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >Label</td>
  <td                ></td>
</tr>


      <tr>
  <td                >4</td>
  <td                >パスワード入力欄</td>
  <td                >TxtPass</td>
  <td                ></td>
  <td                >文字列</td>
  <td class="align-c"></td>
  <td                >TextBox</td>
  <td                ></td>
</tr>


      <tr>
  <td                >5</td>
  <td                >アップロードボタン</td>
  <td                >BtnUpload</td>
  <td                >アップロード</td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >Button</td>
  <td                ></td>
</tr>


      <tr>
  <td                >6</td>
  <td                >キャンセルボタン</td>
  <td                >BtnCancel</td>
  <td                >キャンセル</td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >Button</td>
  <td                ></td>
</tr>


      <tr>
  <td                >7</td>
  <td                >進捗バー</td>
  <td                >PboxProgress</td>
  <td                ></td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >PictureBox</td>
  <td                >通常は非表示でアップロード処理中のみ表示される</td>
</tr>


  </table>


<h2>イベント</h2>
<dl class="event">
  <dt>初期表示</dt>
  <dd>
    <ul class="description">
      <li>特になし．</li>
    </ul>
  </dd>
  <dt>アップロードボタン押下</dt>
  <dd>
    <ul class="description">
      <li>入力内容とアップロード情報のチェックを行い，エラーの場合はダイアログを表示して処理を終了する．</li>
      <table class="upload-check-error">
        <tr>
          <th class="no">No.</th>
          <th>条件</th>
          <th>メッセージ</th>
        </tr>
          <tr>
            <td class="no">1</td>
            <td>メール入力欄が未入力</td>
            <td><a href="/AbDock/f700_message_list.html#MAIL_NULL">MAILを入力してください。</a></td>
          </tr>
          <tr>
            <td class="no">2</td>
            <td>パスワード入力欄が未入力</td>
            <td><a href="/AbDock/f700_message_list.html#PASS_NULL">PASSを入力してください。</a></td>
          </tr>
          <tr>
            <td class="no">3</td>
            <td>DBファイルが存在しない</td>
            <td><a href="/AbDock/f700_message_list.html#DB_DOES_NOT_EXIST">DBファイルが見つかりませんでした。</a></td>
          </tr>
          <tr>
            <td class="no">4</td>
            <td>AbShipのログインURLが未設定</td>
            <td><a href="/AbDock/f700_message_list.html#LOGIN_NULL">ログインURLがありません。</a></td>
          </tr>
          <tr>
            <td class="no">5</td>
            <td>AbShipのアップロードURLが未設定</td>
            <td><a href="/AbDock/f700_message_list.html#UPLOAD_NULL">アップロードURLがありません。</a></td>
          </tr>
          <tr>
            <td class="no">6</td>
            <td>DBファイルの支出情報が0件</td>
            <td><a href="/AbDock/f700_message_list.html#UPD_RECORD_NOTHING">アップロードするデータがありません。</a></td>
          </tr>
      </table>
      <li>画面項目の表示を更新する．</li>
      <table class="upload-view-change">
        <tr><th class="no">No.</th><th>項目名                 </th><th>表示</th></tr>
        <tr><td class="no"> 1 </td><td>進捗バー               </td><td>表示</td></tr>
        <tr><td class="no"> 2 </td><td>メールラベル/入力欄    </td><td>非表示</td></tr>
        <tr><td class="no"> 3 </td><td>パスワードラベル/入力欄</td><td>非表示</td></tr>
        <tr><td class="no"> 4 </td><td>アップロードボタン     </td><td>Disabled</td></tr>
        <tr><td class="no"> 5 </td><td>キャンセルボタン       </td><td>Disabled</td></tr>
      </table>
      <li>支出情報のアップロード処理を行う．</li>
      <li>アップロード処理で異常が発生した場合，画面項目の表示を戻してエラーダイアログを表示する</li>
      <table class="upload-server-error">
        <tr>
          <th>メッセージ</th>
          <td class="message"><a href="/AbDock/f700_message_list.html#UPD_REQ_FAILED">サーバへのアップロードに失敗しました。</a></td>
        </tr>
      </table>
      <table class="upload-server-error-example">
        <tr>
            <td>
              <figure>
                <img src="/AbDock/images/subform_uploads_error_001.png" alt="Subform uploads error 001" />
                <figcaption>例1.接続エラー</figcaption>
              </figure>
            </td>
            <td>
              <figure>
                <img src="/AbDock/images/subform_uploads_error_002.png" alt="Subform uploads error 002" />
                <figcaption>例2.認証エラー</figcaption>
              </figure>
            </td>
            <td>
              <figure>
                <img src="/AbDock/images/subform_uploads_error_003.png" alt="Subform uploads error 003" />
                <figcaption>例3.サーバ内部処理エラー</figcaption>
              </figure>
            </td>
        </tr>
      </table>
      <li>
        アップロード処理が正常終了した場合，OKダイアログを表示して画面を閉じる．
        <ul class="event">
          <li>
            アップロード：成功しました．
            <figure><img src="/AbDock/images/subform_uploads_success.png" alt="Subform uploads success" /></figure>
          </li>
        </ul>
      </li>
    </ul>
  </dd>
  <dt>キャンセルボタン押下</dt>
  <dd>
    <ul class="description">
      <li>画面を閉じる．</li>
      <li>ただし，アップロード処理中の場合，アップロード処理が終了するまで画面を閉じることはできない．</li>
    </ul>
  </dd>
</dl>

    </div>
    <footer>
  <table class="footer">
    <tr>
      <td class="link">
        <a href="/AbDock/">トップページ</a> | 
        <a href="https://github.com/m-kishi/Abook">Abook</a> | 
        <a href="https://github.com/m-kishi/AbDock">GitHub</a>
      </td>
      <td class="copy-rights">
        &copy; 2016 Masaaki Kishi
      </td>
    </tr>
  </table>
</footer>

    <script>mermaid.initialize({startOnLoad:true});</script>
  </body>
</html>
