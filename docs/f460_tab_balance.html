<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>収支タブ</title>
    <link href="/AbDock/images/abdock.ico" rel="icon" type="image/ico" />
    <link href="/AbDock/stylesheets/normalize.css" rel="stylesheet" /><link href="/AbDock/stylesheets/all.css" rel="stylesheet" />
    <link href="/AbDock/stylesheets/mermaid.forest.min.css" rel="stylesheet" />
    <script src="/AbDock/javascripts/jquery-3.4.1.min.js"></script>
    <script src="/AbDock/javascripts/all.js"></script>
    <script src="/AbDock/javascripts/mermaid.min.js"></script>
  </head>
  <body class="f460_tab_balance">
    <header>
  <table class="header">
    <colgroup>
      <col class="title"   />
      <col class="project" />
      <col class="appname" />
      <col class="subname" />
      <col class="version" />
    </colgroup>
    <tbody>
      <tr>
        <td class="title"   rowspan="2">画面設計</td>
        <td class="project" rowspan="2">project.mk</td>
        <td class="appname" rowspan="2">Abook</td>
        <td class="subname" rowspan="2"></td>
        <td class="version">バージョン</td>
      </tr>
      <tr>
        <td class="version-number">7.0.0</td>
      </tr>
    </tbody>
  </table>
</header>

    <div class="content">
      <h1>【収支タブ】</h1>


<h2>レイアウト</h2>

<table class="layout">
    <tr>
      <td class="layout ">
        <figure>
            <img src="/AbDock/images/tab_balance_001.png" class="" alt="" />
            <figcaption>
              1.支出情報なし
            </figcaption>
        </figure>
      </td>
        <td rowspan="2" class="overview">
          <figure>
            <figcaption>＜概要＞</figcaption>
              <ul class="overview">
                  <li>年度の収支を表示する画面</li>
                  <li>年度とはその年の4月〜翌年の3月までをいう．<br />例) 2016年度は2016年4月〜2017年3月</li>
                  <li>該当年度の支出情報が存在しない場合，その年度の収支は表示しない．</li>
                  <li>ただし，投資列については1月〜12月の範囲を年度とする．<br />例) 2024年度は2024年1月〜2024年12月</li>
                  <li>年度の収支が1行でも存在する場合，収支DGVの末尾に合計行を表示する(年度は9999とする)．</li>
              </ul>
              <figure>
                <figcaption>＜収支DGVの設定＞</figcaption>
                <table class="dgv-property">
                  <tr><th>行追加        </th><td>不可</td></tr>
                  <tr><th>行削除        </th><td>不可</td></tr>
                  <tr><th>ReadOnly      </th><td>○</td></tr>
                  <tr><th>列のソート    </th><td>不可</td></tr>
                  <tr><th>列の幅変更    </th><td>不可</td></tr>
                  <tr><th>選択モード    </th><td>行選択</td></tr>
                  <tr><th>スクロールバー</th><td>縦のみ</td></tr>
                </table>
              </figure>
          </figure>
        </td>
    </tr>
    <tr>
      <td class="layout ">
        <figure>
            <img src="/AbDock/images/tab_balance_002.png" class="" alt="" />
            <figcaption>
              2.支出情報あり
            </figcaption>
        </figure>
      </td>
    </tr>
</table>


<h2>画面項目</h2>

  <table class="controls">
    <tr>
      <th class="no-m">No.</th>
      <th>名称</th>
      <th>ＩＤ</th>
      <th>テキスト</th>
      <th>属性</th>
      <th>align</th>
      <th>種別</th>
      <th>備考</th>
    </tr>
      <tr>
  <td                >1</td>
  <td                >収支DGV</td>
  <td                >DgvBalance</td>
  <td                ></td>
  <td                ></td>
  <td class="align-c"></td>
  <td                >DataGridView</td>
  <td                ></td>
</tr>

    <tr>
  <td                >1-1</td>
  <td                >年度列</td>
  <td                >ColYear</td>
  <td                >年度</td>
  <td                >数値</td>
  <td class="align-c">中</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                ></td>
</tr>


    <tr>
  <td                >1-2</td>
  <td                >収入列</td>
  <td                >ColEarn</td>
  <td                >収入</td>
  <td                >数値</td>
  <td class="align-c">右</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                >通貨形式(&yen;)</td>
</tr>


    <tr>
  <td                >1-3</td>
  <td                >支出列</td>
  <td                >ColExpense</td>
  <td                >支出</td>
  <td                >数値</td>
  <td class="align-c">右</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                >通貨形式(&yen;)</td>
</tr>


    <tr>
  <td                >1-4</td>
  <td                >特出列</td>
  <td                >ColSpecial</td>
  <td                >特出</td>
  <td                >数値</td>
  <td class="align-c">右</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                >通貨形式(&yen;)</td>
</tr>


    <tr>
  <td                >1-5</td>
  <td                >収支列</td>
  <td                >ColBalance</td>
  <td                >収支</td>
  <td                >数値</td>
  <td class="align-c">右</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                >通貨形式(&yen;)</td>
</tr>


    <tr>
  <td                >1-6</td>
  <td                >投資列</td>
  <td                >ColFinance</td>
  <td                >投資</td>
  <td                >数値</td>
  <td class="align-c">右</td>
  <td                >DataGridViewTextBoxColumn</td>
  <td                >通貨形式(&yen;)</td>
</tr>



  </table>


<h2>イベント</h2>
<dl class="event">
  <dt>初期表示</dt>
  <dd>
    <ul class="description">
      <li><a href="/AbDock/f200_dbfile.html">DBファイル</a>から読み込んだ支出情報を年度ごとに以下の定義に従って集計する(<a href="/AbDock/f600_type_define.html">種別※2</a>に該当する支出情報は除く)．</li>
      <table class="balance">
        <tr><th class="no">No.</th><th>列  </th><th>集計方法</th></tr>
        <tr><td class="no">1  </td><td>収入</td><td><a href="/AbDock/f600_type_define.html">種別※5</a>に該当する支出情報の金額の合計</td></tr>
        <tr><td class="no">2  </td><td>支出</td><td><a href="/AbDock/f600_type_define.html">種別※6</a>に該当する支出情報の金額の合計</td></tr>
        <tr><td class="no">3  </td><td>特出</td><td><a href="/AbDock/f600_type_define.html">種別</a>が"特出"の支出情報の金額の合計</td></tr>
        <tr><td class="no">4  </td><td>収支</td><td>(<a href="/AbDock/f600_type_define.html">種別※5</a>に該当する支出情報の金額の合計) - (<a href="/AbDock/f600_type_define.html">種別※5</a>に該当しない支出情報の金額の合計)</td></tr>
        <tr><td class="no">5  </td><td>投資</td><td><a href="/AbDock/f600_type_define.html">種別</a>が"投資"の支出情報の金額の合計</td></tr>
      </table>
      <li>合計行を集計して収支DGVへ表示し，収支DGVの1行目を選択状態とする．</li>
      <li>集計処理中にチェックエラーが発生した場合，エラーダイアログを表示してアプリケーションを終了する．</li>
      <table class="balance-check-error">
        <tr>
          <th class="no">No.</th>
          <th>条件</th>
          <th>メッセージ</th>
        </tr>
          <tr>
            <td class="no">1</td>
            <td>年度がマイナス</td>
            <td><a href="/AbDock/f700_message_list.html#YEAR_MINUS">年度がマイナスです。</a></td>
          </tr>
          <tr>
            <td class="no">2</td>
            <td>収入がマイナス</td>
            <td><a href="/AbDock/f700_message_list.html#EARN_MINUS">収入がマイナスです。</a></td>
          </tr>
          <tr>
            <td class="no">3</td>
            <td>支出がマイナス</td>
            <td><a href="/AbDock/f700_message_list.html#EXPENSE_MINUS">支出がマイナスです。</a></td>
          </tr>
          <tr>
            <td class="no">4</td>
            <td>特出がマイナス</td>
            <td><a href="/AbDock/f700_message_list.html#SPECIAL_MINUS">特出がマイナスです。</a></td>
          </tr>
          <tr>
            <td class="no">5</td>
            <td>収支が正しくない[収入 - (支出 + 特出) != 収支]</td>
            <td><a href="/AbDock/f700_message_list.html#BALANCE_INCORRECT">収支が合いません。</a></td>
          </tr>
          <tr>
            <td class="no">6</td>
            <td>投資がマイナス</td>
            <td><a href="/AbDock/f700_message_list.html#FINANCE_MINUS">投資がマイナスです。</a></td>
          </tr>
      </table>
    </ul>
  </dd>
</dl>

    </div>
    <footer>
  <table class="footer">
    <tr>
      <td class="link">
        <a href="/AbDock/">トップページ</a> | 
        <a href="https://github.com/m-kishi/Abook">Abook</a> | 
        <a href="https://github.com/m-kishi/AbDock">GitHub</a>
      </td>
      <td class="copy-rights">
        &copy; 2016 Masaaki Kishi
      </td>
    </tr>
  </table>
</footer>

    <script>mermaid.initialize({startOnLoad:true});</script>
  </body>
</html>
